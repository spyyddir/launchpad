<%= form_for @widget do |f| %>

  <div class="header">
    <h2><%= @widget.class.title %> Settings</h2>
  </div>
  
  <% @widget.available_settings.each do |setting| %>
    <div class="grouping">
      <%= f.label setting %>
      <% if setting == :password %>
        <%= f.password_field setting %>
      <% else %>
        <%= f.text_field setting %>
      <% end %>
    </div>
  <% end %>

  <div class="footer save">
    <%= link_to "cancel", widgets_path, :class => "cancel button" unless false && @widget.serialized_settings.blank? %>
    <%= f.submit "Save Changes", :class => "save button" %>
  </div>

<% end %>